# Финальный проект курcа "Основы разработки на С++: Красный пояс" - "Поисковая система"

В рамках данного проекта был реализован класс SearchServer, который позволяет выполнять поиск в базе документов:
```cpp
class SearchServer {
public:
  SearchServer() = default;
  explicit SearchServer(istream& document_input);

  void UpdateDocumentBase(istream& document_input);
  void AddQueriesStream(istream& query_input, ostream& search_results_output);
};
```
Рассмотрим его интерфейс:

**Конструктор:**
Конструктор класса SearchServer принимает поток ввода, содержащий базу документов. 
При этом один документ — это одна строка входного потока. Документы состоят из слов, разделённых одним или несколькими пробелами, слова состоят из строчных латинских букв.    

**Метод AddQueriesStream(istream& query_input, ostream& search_results_output):**  
Метод AddQueriesStream выполняет собственно поиск. Он принимает входной поток поисковых запросов и выходной поток для записи результатов поиска. При этом один запрос — это одна строка в потоке query_input. Каждый поисковый запрос состоит из слов, разделённых одним или несколькими пробелами так же, как и в документах, слова в запросах состоят из строчных латинских букв. Результатом обработки поискового запроса является набор из максимум пяти наиболее релевантных документов. В реальных поисковых системах метрика релевантности устроена довольно сложно. В рамках нашей задачи в качестве метрики релевантности мы будем использовать суммарное количество вхождений всех слов запроса в документ. Для каждого поискового запроса метод AddQueriesStream должен вывести в поток search_results_output одну строку в формате **[текст запроса]: {docid: <значение>, hitcount: <значение>} {docid: <значение>, hitcount: <значение>} ...**, где docid — идентификатор документа, а hitcount — значение метрики релевантности для данного документа.  
Метод AddQueriesStream должен быть готов к тому, что параллельно с ним будет выполняться метод UpdateDocumentBase и наоборот.Метод AddQueriesStream не обязан обрабатывать все запросы с той версией базы документов, которая была актуальна во время его запуска. То есть, если во время работы метода AddQueriesStream база документов была обновлена, он может использовать новую версию базы для обработки оставшихся запросов.   

**Метод UpdateDocumentBase(istream& document_input):**  
Метод UpdateDocumentBase заменяет текущую базу документов на новую, которая содержится в потоке document_input. При этом документ из первой строки этого потока будет иметь идентификатор (docid) 0, документ из второй строки — идентификатор 1 и т.д.  
